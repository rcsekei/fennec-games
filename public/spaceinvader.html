<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="scss/spaceInvaderStyle.css">
		<meta charset="UTF-8">
    </head>
    <body>
        <div id="wrapper">
            <button type="button" id="restart" onclick="restartGame();">Restart</button>
        </div>
        <canvas id="canvas"></canvas>
        <!-- External JavaScript files -->
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-storage.js"></script>
        <script src="scripts/firebase-init.js"></script>
        <script>
                // Redirect, if user is not logged in, else log that they visited this page
                document.addEventListener("DOMContentLoaded", function () {
                    auth.onAuthStateChanged(function (user) {
                        if (!user) {
                            window.location.pathname = "../login.html";
                        } else {
                            usersRef.doc(user.uid)
                                .set(
                                    { games: ['space-invader'] },
                                    { merge: true }
                                )
                            console.log("Check database!");
                        }
                    });
                });
        </script>
        <!--Game Script -->
        <script src="scripts/spaceinvader.js"></script>
    </body>
</html>